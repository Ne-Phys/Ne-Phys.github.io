{"categories":[{"title":"随","uri":"https://cs-fil.github.io/categories/%E9%9A%8F/"},{"title":"题解","uri":"https://cs-fil.github.io/categories/%E9%A2%98%E8%A7%A3/"}],"posts":[{"content":"链接 摘要  $n$皇后问题\n $0\u0026lt;n\u0026lt;=14$\n解  据数据范围 直接搜索会$tle$\n使用位运算可以达到优化的目的\nmxstt 即为列放置最终状态\n 构造函数 dfs(cstt,l,r,ln)\n递归边界 cstt==mxstt\n k=~(cstt|l|r|ln)\u0026amp;mxstt 以获取改行状态\nlowbit(k) 以列举可放置列 cstt 表示列放置状态 $0$可放置 $1$不可放置\ncstt|lowbit(k) 以转移 l r 分别表示左斜 右斜的状态 $01$义同上\n(l|lowbit(k))\u0026gt;\u0026gt;1 (r|lowbit(k))\u0026lt;\u0026lt;1 以转移 ln 表示当前行数\nln+1以转移   即 dfs(cstt|lowbit(k),(l|lowbit(k))\u0026gt;\u0026gt;1,(r|lowbit(k))\u0026lt;\u0026lt;1,ln+1)\ndebug  设置一个$n$位二进制数的第$k$位为$1$ x|=k x|=1\u0026lt;\u0026lt;n-k l r 的转移 (l|cstt)\u0026gt;\u0026gt;1 (l|lowbit(k))\u0026gt;\u0026gt;1 尤其注意 maxstate 限制二进制位数  代码 int n,ans,mxstt; int stt[20]; char s[15];\ninline int lowbit(int x) { return x\u0026amp;-x; }\ninline void dfs(int cstt,int l,int r,int ln) { if(cstt==mxstt) {ans++; return;} int k=~(cstt|l|r|stt[ln])\u0026amp;mxstt; while(lowbit(k)) { dfs(cstt|lowbit(k),(l|lowbit(k))\u0026raquo;1,(r|lowbit(k))\u0026laquo;1,ln+1); k^=lowbit(k); } }\nint main() { scanf(\u0026quot;%d\u0026rdquo;,\u0026amp;n); mxstt=(1\u0026laquo;n)-1; ifor(i,1,n) { scanf(\u0026quot;%s\u0026rdquo;,s+1); ifor(j,1,n) if(s[j]==\u0026rsquo;.') stt[i]|=(1\u0026laquo;n-j); } dfs(0,0,0,1); printf(\u0026quot;%d\u0026rdquo;,ans); system(\u0026ldquo;pause\u0026rdquo;); return 0; }\n","id":0,"section":"posts","summary":"\u003ch4 id=\"链接httpswwwluogucomcnproblemp1562\"\u003e\u003ca href=\"https://www.luogu.com.cn/problem/P1562\"\u003e链接\u003c/a\u003e\u003c/h4\u003e","tags":["位运算","搜索"],"title":"Luogu P1562 还是N皇后","uri":"https://cs-fil.github.io/2020/03/luogu-p1562/","year":"2020"},{"content":"Hi!!\n","id":1,"section":"posts","summary":"Hi!!","tags":["随笔"],"title":"Hello?","uri":"https://cs-fil.github.io/2020/01/blog/","year":"2020"}],"tags":[{"title":"位运算","uri":"https://cs-fil.github.io/tags/%E4%BD%8D%E8%BF%90%E7%AE%97/"},{"title":"搜索","uri":"https://cs-fil.github.io/tags/%E6%90%9C%E7%B4%A2/"},{"title":"随笔","uri":"https://cs-fil.github.io/tags/%E9%9A%8F%E7%AC%94/"}]}