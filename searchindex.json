{"categories":[{"title":"随","uri":"https://cs-fil.github.io/categories/%E9%9A%8F/"},{"title":"题解","uri":"https://cs-fil.github.io/categories/%E9%A2%98%E8%A7%A3/"}],"posts":[{"content":"链接 摘要  $n$皇后问题\n $0\u0026lt;n\u0026lt;=14$\n解  据数据范围 直接搜索会$tle$\n使用位运算可以达到优化的目的\nmxstt 即为列放置最终状态\n 构造函数 dfs(cstt,l,r,ln)\n递归边界 cstt==mxstt\n k=~(cstt|l|r|ln)\u0026amp;mxstt 以获取改行状态\nlowbit(k) 以列举可放置列 cstt 表示列放置状态 $0$可放置 $1$不可放置\ncstt|lowbit(k) 以转移 l r 分别表示左斜 右斜的状态 $01$义同上\n(l|lowbit(k))\u0026gt;\u0026gt;1 (r|lowbit(k))\u0026lt;\u0026lt;1 以转移 ln 表示当前行数\nln+1以转移   即 dfs(cstt|lowbit(k),(l|lowbit(k))\u0026gt;\u0026gt;1,(r|lowbit(k))\u0026lt;\u0026lt;1,ln+1)\ndebug  设置一个$n$位二进制数的第$k$位为$1$ x|=k x|=1\u0026lt;\u0026lt;n-k l r 的转移 (l|cstt)\u0026gt;\u0026gt;1 (l|lowbit(k))\u0026gt;\u0026gt;1 尤其注意 maxstate 限制二进制位数  代码 #include\u0026lt;cstdio\u0026gt;\r#include\u0026lt;cstdlib\u0026gt;\r#define ifor(i,a,b) for(int i=(a);i\u0026lt;=(b);i++)\rint n,ans,mxstt;\rint stt[20];\rchar s[15];\rinline int lowbit(int x)\r{\rreturn x\u0026amp;-x;\r}\rinline void dfs(int cstt,int l,int r,int ln)\r{\rif(cstt==mxstt) {ans++; return;}\rint k=~(cstt|l|r|stt[ln])\u0026amp;mxstt;\rwhile(lowbit(k))\r{\rdfs(cstt|lowbit(k),(l|lowbit(k))\u0026gt;\u0026gt;1,(r|lowbit(k))\u0026lt;\u0026lt;1,ln+1);\rk^=lowbit(k);\r}\r}\rint main()\r{\rscanf(\u0026quot;%d\u0026quot;,\u0026amp;n);\rmxstt=(1\u0026lt;\u0026lt;n)-1;\rifor(i,1,n)\r{\rscanf(\u0026quot;%s\u0026quot;,s+1);\rifor(j,1,n)\rif(s[j]=='.')\rstt[i]|=(1\u0026lt;\u0026lt;n-j);\r}\rdfs(0,0,0,1);\rprintf(\u0026quot;%d\u0026quot;,ans);\rsystem(\u0026quot;pause\u0026quot;);\rreturn 0;\r}\r","id":0,"section":"posts","summary":"\u003ch4 id=\"链接httpswwwluogucomcnproblemp1562\"\u003e\u003ca href=\"https://www.luogu.com.cn/problem/P1562\"\u003e链接\u003c/a\u003e\u003c/h4\u003e","tags":["位运算","搜索"],"title":"Luogu P1562 还是N皇后","uri":"https://cs-fil.github.io/2020/03/luogu-p1562/","year":"2020"},{"content":"Hi!!\n","id":1,"section":"posts","summary":"Hi!!","tags":["随笔"],"title":"Hello?","uri":"https://cs-fil.github.io/2020/01/blog/","year":"2020"}],"tags":[{"title":"位运算","uri":"https://cs-fil.github.io/tags/%E4%BD%8D%E8%BF%90%E7%AE%97/"},{"title":"搜索","uri":"https://cs-fil.github.io/tags/%E6%90%9C%E7%B4%A2/"},{"title":"随笔","uri":"https://cs-fil.github.io/tags/%E9%9A%8F%E7%AC%94/"}]}